2025-07-26 08:29:26 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - Starting SundukPayApplication using Java 22.0.1 with PID 21004 (C:\Users\Admin\Projects\sunduk-pay\target\classes started by Lenovo in C:\Users\Admin\Projects\sunduk-pay)
2025-07-26 08:29:26 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-26 08:29:28 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-07-26 08:29:28 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 118 ms. Found 3 MongoDB repository interfaces.
2025-07-26 08:29:29 [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fbb78e30-0007-3591-b3ac-d42b425f7c5f
2025-07-26 08:29:30 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-07-26 08:29:30 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-26 08:29:30 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-07-26 08:29:30 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-07-26 08:29:30 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api/sunduk-service] - Initializing Spring embedded WebApplicationContext
2025-07-26 08:29:30 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3415 ms
2025-07-26 08:29:30 [main] WARN  org.springframework.boot.web.servlet.context.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'currencyController': Unsatisfied dependency expressed through field 'currencyService': Error creating bean with name 'currencyServiceImpl': Injection of autowired dependencies failed
2025-07-26 08:29:30 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
2025-07-26 08:29:30 [main] INFO  org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-26 08:29:30 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'currencyController': Unsatisfied dependency expressed through field 'currencyService': Error creating bean with name 'currencyServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:776) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:756) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:497) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1414) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:949) ~[spring-context-6.0.17.jar:6.0.17]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:615) ~[spring-context-6.0.17.jar:6.0.17]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.9.jar:3.1.9]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:738) [spring-boot-3.1.9.jar:3.1.9]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:440) [spring-boot-3.1.9.jar:3.1.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:324) [spring-boot-3.1.9.jar:3.1.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) [spring-boot-3.1.9.jar:3.1.9]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) [spring-boot-3.1.9.jar:3.1.9]
	at com.bxb.sunduk_pay.SundukPayApplication.main(SundukPayApplication.java:10) [classes/:?]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'currencyServiceImpl': Injection of autowired dependencies failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:503) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1414) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:773) ~[spring-beans-6.0.17.jar:6.0.17]
	... 20 more
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'exchange.api.url' in value "${exchange.api.url}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:180) ~[spring-core-6.0.17.jar:6.0.17]
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126) ~[spring-core-6.0.17.jar:6.0.17]
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:239) ~[spring-core-6.0.17.jar:6.0.17]
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:210) ~[spring-core-6.0.17.jar:6.0.17]
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.lambda$processProperties$0(PropertySourcesPlaceholderConfigurer.java:200) ~[spring-context-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.resolveEmbeddedValue(AbstractBeanFactory.java:918) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1358) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:773) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:756) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:497) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1414) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.17.jar:6.0.17]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:773) ~[spring-beans-6.0.17.jar:6.0.17]
	... 20 more
2025-07-26 08:31:42 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - Starting SundukPayApplication using Java 22.0.1 with PID 3752 (C:\Users\Admin\Projects\sunduk-pay\target\classes started by Lenovo in C:\Users\Admin\Projects\sunduk-pay)
2025-07-26 08:31:42 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-26 08:31:44 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-07-26 08:31:44 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 3 MongoDB repository interfaces.
2025-07-26 08:31:44 [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fbb78e30-0007-3591-b3ac-d42b425f7c5f
2025-07-26 08:31:45 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-07-26 08:31:45 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-26 08:31:45 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-07-26 08:31:45 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-07-26 08:31:45 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api/sunduk-service] - Initializing Spring embedded WebApplicationContext
2025-07-26 08:31:45 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3118 ms
2025-07-26 08:31:46 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.9.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/22.0.1+8-16"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@42ecc554, com.mongodb.Jep395RecordCodecProvider@443af394]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2025-07-26 08:31:46 [cluster-ClusterId{value='6884451a43fd6b792a564d94', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=50218700}
2025-07-26 08:31:47 [main] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe API key initialized.
2025-07-26 08:31:48 [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62c47480, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7de2bdc7, org.springframework.security.web.context.SecurityContextHolderFilter@36453773, org.springframework.security.web.header.HeaderWriterFilter@7adff6cb, org.springframework.web.filter.CorsFilter@683ed81b, org.springframework.security.web.authentication.logout.LogoutFilter@1203d787, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@504c415c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6c9e74f3, com.bxb.sunduk_pay.config.AuthenticationFilter@112c2930, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4c9ef9c9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c116f26, org.springframework.security.web.session.ConcurrentSessionFilter@2ee095c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6abb44cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28d56028, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7db06c50, org.springframework.security.web.session.SessionManagementFilter@4e80960a, org.springframework.security.web.access.ExceptionTranslationFilter@b68932b, org.springframework.security.web.access.intercept.AuthorizationFilter@45451333]
2025-07-26 08:31:49 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-26 08:31:49 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api/sunduk-service'
2025-07-26 08:31:49 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - Started SundukPayApplication in 7.464 seconds (process running for 9.659)
2025-07-26 08:32:02 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api/sunduk-service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-26 08:32:02 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-26 08:32:02 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-26 08:32:02 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/custom-login
2025-07-26 08:32:11 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/custom-login
2025-07-26 08:32:11 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/custom-login
2025-07-26 08:32:11 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.controller.SundukController - Session Id : 7E1C5EBE09632DA9A5EC4E51BD3EAE0C By: Mohammad Bilal
2025-07-26 08:32:11 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.serviceImpl.UserServiceImpl - Login successful
2025-07-26 08:32:50 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-transactions
2025-07-26 08:32:50 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-transactions
2025-07-26 08:32:50 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Fetching all transactions for userId: c5a354dd-af5d-4a97-9d6a-43306a290759 and walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:32:50 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Found 1 transactions for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:33:10 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/d452d82c-31b9-41ae-ab98-8a81eb4d715f
2025-07-26 08:33:10 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/d452d82c-31b9-41ae-ab98-8a81eb4d715f
2025-07-26 08:33:10 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Fetching balance for walletId: d452d82c-31b9-41ae-ab98-8a81eb4d715f
2025-07-26 08:33:10 [http-nio-8080-exec-9] ERROR com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Invalid wallet ID: d452d82c-31b9-41ae-ab98-8a81eb4d715f
2025-07-26 08:33:46 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:33:46 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:33:46 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Fetching balance for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:33:46 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Current balance in wallet 38376414-f0af-4054-a151-8c6607dfda4a is 20000.0.
2025-07-26 08:34:19 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet-downloadPdf/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:34:19 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet-downloadPdf/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:34:19 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Starting to download transactions for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:34:19 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Generating Excel sheet for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:34:20 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Writing 0 transactions into Excel for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:34:20 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Excel file successfully written and sent in response for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:34:55 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet/add-money
2025-07-26 08:34:55 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet/add-money
2025-07-26 08:34:55 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe Checkout session for userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 20000.0
2025-07-26 08:34:55 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe session | userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 20000.0, product: Add Money to Wallet, purpose: add-money
2025-07-26 08:34:56 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe session successfully created for userId: c5a354dd-af5d-4a97-9d6a-43306a290759 with sessionId: cs_test_a14wb36ZZ0bazw9laaR6Y79dCeipUC1GKJLmbFthEUYF9RTPIisj8fKfIn
2025-07-26 08:34:56 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe Checkout session created successfully for userId: c5a354dd-af5d-4a97-9d6a-43306a290759
2025-07-26 08:36:37 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:36:37 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:36:37 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Fetching balance for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 08:36:37 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Current balance in wallet 38376414-f0af-4054-a151-8c6607dfda4a is 20000.0.
2025-07-26 08:38:36 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet/add-money
2025-07-26 08:38:36 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet/add-money
2025-07-26 08:38:36 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe Checkout session for userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 2500000.0
2025-07-26 08:38:36 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe session | userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 2500000.0, product: Add Money to Wallet, purpose: add-money
2025-07-26 08:38:37 [http-nio-8080-exec-9] ERROR com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Failed to create Stripe session for userId: c5a354dd-af5d-4a97-9d6a-43306a290759, reason: The Checkout Session's total amount due must be no more than $999,999.99.; code: amount_too_large; request-id: req_9czpnrQxib1GJv
com.stripe.exception.InvalidRequestException: The Checkout Session's total amount due must be no more than $999,999.99.; code: amount_too_large; request-id: req_9czpnrQxib1GJv
	at com.stripe.net.LiveStripeResponseGetter.handleV1ApiError(LiveStripeResponseGetter.java:334) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.net.LiveStripeResponseGetter.handleError(LiveStripeResponseGetter.java:306) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:139) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.model.checkout.Session.create(Session.java:602) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.model.checkout.Session.create(Session.java:587) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl.createSession(StripeServiceImpl.java:90) ~[classes/:?]
	at com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl.createCheckoutSession(StripeServiceImpl.java:28) ~[classes/:?]
	at com.bxb.sunduk_pay.controller.WalletController.addMoneyToWallet(WalletController.java:50) ~[classes/:?]
	at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:887) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at com.bxb.sunduk_pay.config.AuthenticationFilter.doFilter(AuthenticationFilter.java:55) ~[classes/:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at com.bxb.sunduk_pay.config.AuthenticationFilter.doFilter(AuthenticationFilter.java:55) ~[classes/:?]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181) ~[spring-security-oauth2-client-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at java.lang.Thread.run(Thread.java:1570) [?:?]
2025-07-26 08:38:37 [http-nio-8080-exec-9] ERROR com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Failed to create Stripe Checkout session for userId: c5a354dd-af5d-4a97-9d6a-43306a290759, error: The Checkout Session's total amount due must be no more than $999,999.99.; code: amount_too_large; request-id: req_9czpnrQxib1GJv
com.stripe.exception.InvalidRequestException: The Checkout Session's total amount due must be no more than $999,999.99.; code: amount_too_large; request-id: req_9czpnrQxib1GJv
	at com.stripe.net.LiveStripeResponseGetter.handleV1ApiError(LiveStripeResponseGetter.java:334) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.net.LiveStripeResponseGetter.handleError(LiveStripeResponseGetter.java:306) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.net.LiveStripeResponseGetter.request(LiveStripeResponseGetter.java:139) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.model.checkout.Session.create(Session.java:602) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.stripe.model.checkout.Session.create(Session.java:587) ~[stripe-java-29.3.0.jar:29.3.0]
	at com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl.createSession(StripeServiceImpl.java:90) ~[classes/:?]
	at com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl.createCheckoutSession(StripeServiceImpl.java:28) ~[classes/:?]
	at com.bxb.sunduk_pay.controller.WalletController.addMoneyToWallet(WalletController.java:50) ~[classes/:?]
	at jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[?:?]
	at java.lang.reflect.Method.invoke(Method.java:580) ~[?:?]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:887) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:798) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.19.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at com.bxb.sunduk_pay.config.AuthenticationFilter.doFilter(AuthenticationFilter.java:55) ~[classes/:?]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:189) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:175) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at com.bxb.sunduk_pay.config.AuthenticationFilter.doFilter(AuthenticationFilter.java:55) ~[classes/:?]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter.doFilterInternal(OAuth2AuthorizationRequestRedirectFilter.java:181) ~[spring-security-oauth2-client-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:195) ~[spring-webmvc-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:230) ~[spring-security-config-6.1.7.jar:6.1.7]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.17.jar:6.0.17]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.17.jar:6.0.17]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:896) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1744) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.19.jar:10.1.19]
	at java.lang.Thread.run(Thread.java:1570) [?:?]
2025-07-26 12:44:48 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - Starting SundukPayApplication using Java 22.0.1 with PID 12704 (C:\Users\Admin\Projects\sunduk-pay\target\classes started by Lenovo in C:\Users\Admin\Projects\sunduk-pay)
2025-07-26 12:44:48 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-26 12:44:50 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-07-26 12:44:50 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 114 ms. Found 3 MongoDB repository interfaces.
2025-07-26 12:44:50 [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fbb78e30-0007-3591-b3ac-d42b425f7c5f
2025-07-26 12:44:51 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-07-26 12:44:51 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-26 12:44:51 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-07-26 12:44:51 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-07-26 12:44:51 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api/sunduk-service] - Initializing Spring embedded WebApplicationContext
2025-07-26 12:44:51 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3360 ms
2025-07-26 12:44:52 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.9.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/22.0.1+8-16"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@2109a691, com.mongodb.Jep395RecordCodecProvider@e521067]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2025-07-26 12:44:52 [cluster-ClusterId{value='6884806cc93aa918445ea6be', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=114923100}
2025-07-26 12:44:53 [main] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe API key initialized.
2025-07-26 12:44:55 [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54e18a46, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1293f8d7, org.springframework.security.web.context.SecurityContextHolderFilter@77b27b57, org.springframework.security.web.header.HeaderWriterFilter@443253a6, org.springframework.web.filter.CorsFilter@58e5fbe5, org.springframework.security.web.authentication.logout.LogoutFilter@18f8e2e0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@78e97d4d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7096d451, com.bxb.sunduk_pay.config.AuthenticationFilter@5a7b6b75, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6f22c1f1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@335896bd, org.springframework.security.web.session.ConcurrentSessionFilter@6a07e6ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13ebccd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5bccef9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b33892a, org.springframework.security.web.session.SessionManagementFilter@21ffc00e, org.springframework.security.web.access.ExceptionTranslationFilter@582c1f8d, org.springframework.security.web.access.intercept.AuthorizationFilter@2b15ba1a]
2025-07-26 12:44:56 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-26 12:44:56 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api/sunduk-service'
2025-07-26 12:44:56 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - Started SundukPayApplication in 8.557 seconds (process running for 10.42)
2025-07-26 12:45:00 [http-nio-8080-exec-1] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api/sunduk-service] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-26 12:45:00 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-07-26 12:45:00 [http-nio-8080-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-07-26 12:45:00 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/custom-login
2025-07-26 12:45:26 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/custom-login
2025-07-26 12:45:26 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/custom-login
2025-07-26 12:45:26 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.controller.SundukController - Session Id : C72EB5F6992466ECBD807C6B0A8867FF By: Mohammad Bilal
2025-07-26 12:45:26 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.serviceImpl.UserServiceImpl - Login successful
2025-07-26 12:47:14 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet/add-money
2025-07-26 12:47:14 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet/add-money
2025-07-26 12:47:14 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe Checkout session for userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 250.0
2025-07-26 12:47:14 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe session | userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 250.0, product: Add Money to Wallet, purpose: add-money
2025-07-26 12:47:18 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe session successfully created for userId: c5a354dd-af5d-4a97-9d6a-43306a290759 with sessionId: cs_test_a19djTXoytXVgJumdr33JLvlNd3KHjfU9IBWQhJJ5OsO5gbhsUMjKCXMSl
2025-07-26 12:47:18 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe Checkout session created successfully for userId: c5a354dd-af5d-4a97-9d6a-43306a290759
2025-07-26 12:48:01 [http-nio-8080-exec-10] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-10] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:01 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Adding amount $250.0 to wallet for userId: c5a354dd-af5d-4a97-9d6a-43306a290759
2025-07-26 12:48:02 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - An amount of $250.0 has been added to your wallet successfully.
2025-07-26 12:48:03 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:03 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:48:40 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet-pay
2025-07-26 12:48:40 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet-pay
2025-07-26 12:48:40 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe Payment session for userId: 26ce8479-dfb4-48d0-8ef6-3adca9fecde4, amount: 455.0
2025-07-26 12:48:40 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe session | userId: 26ce8479-dfb4-48d0-8ef6-3adca9fecde4, amount: 455.0, product: Pay Money From Wallet, purpose: wallet-pay
2025-07-26 12:48:43 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe session successfully created for userId: 26ce8479-dfb4-48d0-8ef6-3adca9fecde4 with sessionId: cs_test_a135QtyOQFbMrMZbldDoWMLTXQy79CdZS4ke0aTsAmSYILIKon26Kf9Dwl
2025-07-26 12:48:43 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe Payment session created successfully for userId: 26ce8479-dfb4-48d0-8ef6-3adca9fecde4
2025-07-26 12:49:04 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:04 [http-nio-8080-exec-1] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:05 [http-nio-8080-exec-10] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:05 [http-nio-8080-exec-10] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:05 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:05 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:05 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:05 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:05 [http-nio-8080-exec-2] ERROR com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Wallet not found for userId: 26ce8479-dfb4-48d0-8ef6-3adca9fecde4
2025-07-26 12:49:07 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:07 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:49:56 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-transactions
2025-07-26 12:49:56 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-transactions
2025-07-26 12:49:56 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Fetching all transactions for userId: c5a354dd-af5d-4a97-9d6a-43306a290759 and walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 12:49:56 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Found 2 transactions for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 12:52:26 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet-pay
2025-07-26 12:52:26 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/wallet-pay
2025-07-26 12:52:26 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe Payment session for userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 455.0
2025-07-26 12:52:26 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Creating Stripe session | userId: c5a354dd-af5d-4a97-9d6a-43306a290759, amount: 455.0, product: Pay Money From Wallet, purpose: wallet-pay
2025-07-26 12:52:31 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe session successfully created for userId: c5a354dd-af5d-4a97-9d6a-43306a290759 with sessionId: cs_test_a1UAtTlVbteDCiGujG8HbJTqdSTwuPzv1FXxS2KnLLHbnsdxejrK313RWM
2025-07-26 12:52:31 [http-nio-8080-exec-4] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe Payment session created successfully for userId: c5a354dd-af5d-4a97-9d6a-43306a290759
2025-07-26 12:53:06 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-2] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-5] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-3] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:06 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Wallet balance deducted. Remaining balance: 19795.0
2025-07-26 12:53:06 [http-nio-8080-exec-6] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Payment of $455.0 from wallet successful.
2025-07-26 12:53:08 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:08 [http-nio-8080-exec-7] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: POST /api/sunduk-service/webhook
2025-07-26 12:53:15 [http-nio-8080-exec-8] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-transactions
2025-07-26 12:53:15 [http-nio-8080-exec-8] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-transactions
2025-07-26 12:53:15 [http-nio-8080-exec-8] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Fetching all transactions for userId: c5a354dd-af5d-4a97-9d6a-43306a290759 and walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 12:53:15 [http-nio-8080-exec-8] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Found 3 transactions for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 12:53:43 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 12:53:43 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.config.AuthenticationFilter - Incoming request: GET /api/sunduk-service/wallet-showBalance/38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 12:53:43 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Fetching balance for walletId: 38376414-f0af-4054-a151-8c6607dfda4a
2025-07-26 12:53:43 [http-nio-8080-exec-9] INFO  com.bxb.sunduk_pay.serviceImpl.WalletServiceImpl - Current balance in wallet 38376414-f0af-4054-a151-8c6607dfda4a is 19795.0.
2025-07-26 12:55:16 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - Starting SundukPayApplication using Java 22.0.1 with PID 26244 (C:\Users\Admin\Projects\sunduk-pay\target\classes started by Lenovo in C:\Users\Admin\Projects\sunduk-pay)
2025-07-26 12:55:16 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - No active profile set, falling back to 1 default profile: "default"
2025-07-26 12:55:18 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data MongoDB repositories in DEFAULT mode.
2025-07-26 12:55:18 [main] INFO  org.springframework.data.repository.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 122 ms. Found 3 MongoDB repository interfaces.
2025-07-26 12:55:19 [main] INFO  org.springframework.cloud.context.scope.GenericScope - BeanFactory id=fbb78e30-0007-3591-b3ac-d42b425f7c5f
2025-07-26 12:55:19 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8080 (http)
2025-07-26 12:55:19 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-07-26 12:55:19 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
2025-07-26 12:55:19 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.19]
2025-07-26 12:55:20 [main] INFO  org.apache.catalina.core.ContainerBase.[Tomcat].[localhost].[/api/sunduk-service] - Initializing Spring embedded WebApplicationContext
2025-07-26 12:55:20 [main] INFO  org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3173 ms
2025-07-26 12:55:20 [main] INFO  org.mongodb.driver.client - MongoClient with metadata {"driver": {"name": "mongo-java-driver|sync|spring-boot", "version": "4.9.1"}, "os": {"type": "Windows", "name": "Windows 11", "architecture": "amd64", "version": "10.0"}, "platform": "Java/Oracle Corporation/22.0.1+8-16"} created with settings MongoClientSettings{readPreference=primary, writeConcern=WriteConcern{w=null, wTimeout=null ms, journal=null}, retryWrites=true, retryReads=true, readConcern=ReadConcern{level=null}, credential=null, streamFactoryFactory=null, commandListeners=[], codecRegistry=ProvidersCodecRegistry{codecProviders=[ValueCodecProvider{}, BsonValueCodecProvider{}, DBRefCodecProvider{}, DBObjectCodecProvider{}, DocumentCodecProvider{}, CollectionCodecProvider{}, IterableCodecProvider{}, MapCodecProvider{}, GeoJsonCodecProvider{}, GridFSFileCodecProvider{}, Jsr310CodecProvider{}, JsonObjectCodecProvider{}, BsonCodecProvider{}, EnumCodecProvider{}, com.mongodb.client.model.mql.ExpressionCodecProvider@636dbfe7, com.mongodb.Jep395RecordCodecProvider@42ecc554]}, loggerSettings=LoggerSettings{maxDocumentLength=1000}, clusterSettings={hosts=[localhost:27017], srvServiceName=mongodb, mode=SINGLE, requiredClusterType=UNKNOWN, requiredReplicaSetName='null', serverSelector='null', clusterListeners='[]', serverSelectionTimeout='30000 ms', localThreshold='30000 ms'}, socketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=0, receiveBufferSize=0, sendBufferSize=0}, heartbeatSocketSettings=SocketSettings{connectTimeoutMS=10000, readTimeoutMS=10000, receiveBufferSize=0, sendBufferSize=0}, connectionPoolSettings=ConnectionPoolSettings{maxSize=100, minSize=0, maxWaitTimeMS=120000, maxConnectionLifeTimeMS=0, maxConnectionIdleTimeMS=0, maintenanceInitialDelayMS=0, maintenanceFrequencyMS=60000, connectionPoolListeners=[], maxConnecting=2}, serverSettings=ServerSettings{heartbeatFrequencyMS=10000, minHeartbeatFrequencyMS=500, serverListeners='[]', serverMonitorListeners='[]'}, sslSettings=SslSettings{enabled=false, invalidHostNameAllowed=false, context=null}, applicationName='null', compressorList=[], uuidRepresentation=JAVA_LEGACY, serverApi=null, autoEncryptionSettings=null, contextProvider=null}
2025-07-26 12:55:20 [cluster-ClusterId{value='688482e0b1a24f345f557355', description='null'}-localhost:27017] INFO  org.mongodb.driver.cluster - Monitor thread successfully connected to server with description ServerDescription{address=localhost:27017, type=STANDALONE, state=CONNECTED, ok=true, minWireVersion=0, maxWireVersion=25, maxDocumentSize=16777216, logicalSessionTimeoutMinutes=30, roundTripTimeNanos=54763700}
2025-07-26 12:55:21 [main] INFO  com.bxb.sunduk_pay.serviceImpl.StripeServiceImpl - Stripe API key initialized.
2025-07-26 12:55:22 [main] INFO  org.springframework.security.web.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ab85862, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@504c415c, org.springframework.security.web.context.SecurityContextHolderFilter@77fb1002, org.springframework.security.web.header.HeaderWriterFilter@195cbf5e, org.springframework.web.filter.CorsFilter@6c9e74f3, org.springframework.security.web.authentication.logout.LogoutFilter@2b15ba1a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@9cb927e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8585cdd, com.bxb.sunduk_pay.config.AuthenticationFilter@6fb0261e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@28d56028, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@813ab53, org.springframework.security.web.session.ConcurrentSessionFilter@1136122a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24cbf894, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4db16677, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5030997b, org.springframework.security.web.session.SessionManagementFilter@49665f92, org.springframework.security.web.access.ExceptionTranslationFilter@726ef6aa, org.springframework.security.web.access.intercept.AuthorizationFilter@19213a74]
2025-07-26 12:55:23 [main] INFO  org.apache.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-07-26 12:55:23 [main] INFO  org.springframework.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8080 (http) with context path '/api/sunduk-service'
2025-07-26 12:55:23 [main] INFO  com.bxb.sunduk_pay.SundukPayApplication - Started SundukPayApplication in 7.402 seconds (process running for 9.772)
